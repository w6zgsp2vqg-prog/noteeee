<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEINEI — Read Note</title>
<style>
  :root {
    --bg:#050507;
    --neon:#00d4ff;
    --neon-2:#0077ff;
    --panel:#0b0b0d;
    --muted:#9aa3aa;
  }
  * { box-sizing: border-box; }
  html, body { margin:0; padding:0; font-family: Inter, monospace; background: var(--bg); color: var(--neon); height: 100%; display: flex; flex-direction: column; }

  /* 상단바 */
  .topbar { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; border-bottom: 1px solid rgba(0,212,255,0.2); }
  .topbar .title { font-size:18px; font-weight:bold; flex:1; text-align:center; }

  /* 글 영역 */
  .content { flex:1; overflow-y:auto; padding:20px; display:flex; flex-direction: column; gap:16px; }
  .note-title { font-size:22px; font-weight:bold; }
  .note-date { font-size:12px; color:var(--muted); }
  .note-content { font-size:14px; white-space: pre-wrap; }

  /* 하단바 */
  .bottombar { display: flex; justify-content:flex-end; padding:10px 20px; border-top:1px solid rgba(0,212,255,0.2); }
  .btn { padding: 8px 16px; border-radius:8px; border:1px solid var(--neon); background: transparent; color: var(--neon); cursor:pointer; font-weight:600; }
  .btn.primary { background: linear-gradient(90deg, var(--neon), var(--neon-2)); color:#001; box-shadow:0 4px 12px rgba(0,212,255,0.12);}
</style>
</head>
<body>

<!-- 상단바 -->
<div class="topbar">
  <div class="title">Note View</div>
</div>

<!-- 글 내용 -->
<div class="content" id="noteContainer">
  <div class="note-title" id="noteTitle"></div>
  <div class="note-date" id="noteDate"></div>
  <div class="note-content" id="noteContent"></div>
</div>

<!-- 하단바 -->
<div class="bottombar">
  <button class="btn primary" id="backBtn">exit</button>
</div>

<script>
// URL에서 ?idx=숫자 가져오기
function getQueryIndex() {
  const params = new URLSearchParams(window.location.search);
  return parseInt(params.get('idx'));
}

// 글 불러오기
function loadNote(){
  const idx = getQueryIndex();
  const savedNotes = JSON.parse(localStorage.getItem('notes')) || [];
  if(!savedNotes[idx]){
    document.getElementById('noteTitle').textContent = '존재하지 않는 글입니다.';
    document.getElementById('noteDate').textContent = '';
    document.getElementById('noteContent').textContent = '';
    return;
  }
  const note = savedNotes[idx];
  document.getElementById('noteTitle').textContent = note.title;
  document.getElementById('noteDate').textContent = note.date;
  document.getElementById('noteContent').textContent = note.content;
}

// 나가기 버튼
document.getElementById('backBtn').addEventListener('click', ()=>{
  window.location.href = 'note.html';
});

loadNote();
</script>
</body>
</html>
